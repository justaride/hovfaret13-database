<!DOCTYPE html>
<html>
<head>
  <title>Test DataLoader Functions</title>
  <script src="lib/data-loader.js?v=2.18.0"></script>
</head>
<body>
  <h1>DataLoader Function Test</h1>
  <div id="results"></div>

  <script>
    const results = document.getElementById('results');

    function test() {
      const requiredFunctions = [
        'loadJSON',
        'loadAllData',
        'extractAllDecisions',
        'extractAllActionItems',
        'calculateMeetingStats',
        'getRecentActivity',
        'getStakeholderEngagement',
        'calculateProjectHealth',
        'inferActionStatus',
        'parseNorwegianDate'
      ];

      let html = '<h2>Function Availability Test:</h2><ul>';

      requiredFunctions.forEach(funcName => {
        const exists = typeof DataLoader[funcName] === 'function';
        const status = exists ? '✅' : '❌';
        html += `<li>${status} DataLoader.${funcName}</li>`;
      });

      html += '</ul>';

      // Test parseNorwegianDate
      html += '<h2>Test parseNorwegianDate:</h2><ul>';
      const testDates = ['April 2024', 'Q2 2024', '2024-05-01'];
      testDates.forEach(date => {
        const result = DataLoader.parseNorwegianDate(date);
        html += `<li>"${date}" → ${result}</li>`;
      });
      html += '</ul>';

      results.innerHTML = html;
    }

    test();
  </script>
</body>
</html>
