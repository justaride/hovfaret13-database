<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="Konseptskisse 1.0 - Arkitektonisk presentasjon fra september 2024">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Konseptskisse - Hovfaret 13</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #f8fafc;
            color: #1e293b;
            line-height: 1.6;
        }

        /* Header */
        .header {
            background: white;
            border-bottom: 1px solid #e2e8f0;
            padding: 1rem 2rem;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        .header-content {
            max-width: 1600px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .back-link {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #64748b;
            text-decoration: none;
            font-size: 0.875rem;
        }
        .back-link:hover { color: #3b82f6; }
        .header h1 { font-size: 1.25rem; font-weight: 600; }
        .header-badge {
            background: #dcfce7;
            color: #166534;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        /* Main */
        .main { max-width: 1600px; margin: 0 auto; padding: 2rem; }

        /* Hero */
        .hero {
            background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 1.5rem;
            color: white;
        }
        .hero h2 { font-size: 1.5rem; font-weight: 700; margin-bottom: 0.25rem; }
        .hero-subtitle { opacity: 0.9; font-size: 0.875rem; margin-bottom: 1rem; }
        .hero-stats { display: flex; gap: 2rem; flex-wrap: wrap; }
        .hero-stat { text-align: center; }
        .hero-stat-value { font-size: 1.75rem; font-weight: 700; }
        .hero-stat-label { font-size: 0.7rem; opacity: 0.8; text-transform: uppercase; letter-spacing: 0.05em; }

        /* Tabs */
        .tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
            background: white;
            padding: 0.5rem;
            border-radius: 12px;
            border: 1px solid #e2e8f0;
        }
        .tab-btn {
            padding: 0.75rem 1.25rem;
            border: none;
            border-radius: 8px;
            background: transparent;
            color: #64748b;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .tab-btn:hover { background: #f1f5f9; color: #1e293b; }
        .tab-btn.active { background: #3b82f6; color: white; }
        .tab-btn .count {
            background: rgba(0,0,0,0.1);
            padding: 0.125rem 0.5rem;
            border-radius: 9999px;
            font-size: 0.75rem;
        }
        .tab-btn.active .count { background: rgba(255,255,255,0.2); }

        /* Tab content */
        .tab-content { display: none; }
        .tab-content.active { display: block; }

        /* Parts navigation */
        .parts-nav {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }
        .part-btn {
            padding: 0.5rem 1rem;
            border: 2px solid;
            border-radius: 8px;
            background: white;
            font-size: 0.8rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }
        .part-btn:hover { transform: translateY(-1px); }
        .part-btn.active { color: white; }

        /* Grid layouts */
        .pages-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 1rem;
        }
        @media (max-width: 1200px) { .pages-grid { grid-template-columns: repeat(4, 1fr); } }
        @media (max-width: 900px) { .pages-grid { grid-template-columns: repeat(3, 1fr); } }
        @media (max-width: 600px) { .pages-grid { grid-template-columns: repeat(2, 1fr); } }

        .page-card {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.2s;
        }
        .page-card:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.15); }
        .page-card img { width: 100%; aspect-ratio: 16/9; object-fit: cover; display: block; }
        .page-card .page-num {
            padding: 0.5rem;
            text-align: center;
            font-size: 0.75rem;
            color: #64748b;
            background: #f8fafc;
            border-top: 1px solid #e2e8f0;
        }

        /* Part divider */
        .part-divider {
            grid-column: 1 / -1;
            padding: 1rem;
            margin: 0.5rem 0;
            border-radius: 8px;
            color: white;
            font-weight: 600;
        }

        /* Cards grid */
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1rem;
        }

        /* Info card */
        .info-card {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            border: 1px solid #e2e8f0;
        }
        .info-card h3 {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .info-card h3 .icon { font-size: 1.25rem; }
        .info-card p { font-size: 0.875rem; color: #64748b; margin-bottom: 0.75rem; }
        .info-card ul { font-size: 0.8rem; color: #475569; padding-left: 1rem; }
        .info-card li { margin-bottom: 0.25rem; }

        /* Scenario cards */
        .scenario-card {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            border: 2px solid #e2e8f0;
            position: relative;
        }
        .scenario-card.recommended { border-color: #10b981; }
        .scenario-card.preferred { border-color: #3b82f6; background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%); }
        .scenario-badge {
            position: absolute;
            top: -0.5rem;
            right: 1rem;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.7rem;
            font-weight: 600;
        }
        .scenario-badge.preferred { background: #3b82f6; color: white; }
        .scenario-badge.recommended { background: #10b981; color: white; }
        .scenario-num { font-size: 2rem; font-weight: 700; color: #3b82f6; }
        .scenario-title { font-size: 1rem; font-weight: 600; margin-bottom: 0.5rem; }
        .scenario-subtitle { font-size: 0.8rem; color: #64748b; margin-bottom: 1rem; }
        .scenario-metrics { display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem; }
        .metric { background: #f8fafc; padding: 0.5rem; border-radius: 6px; }
        .metric-label { font-size: 0.65rem; color: #64748b; text-transform: uppercase; }
        .metric-value { font-size: 0.9rem; font-weight: 600; color: #1e293b; }

        /* Chapter list */
        .chapter-list { display: flex; flex-direction: column; gap: 0.5rem; }
        .chapter-item {
            background: white;
            border-radius: 8px;
            padding: 1rem;
            border: 1px solid #e2e8f0;
            display: flex;
            align-items: center;
            gap: 1rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        .chapter-item:hover { border-color: #3b82f6; transform: translateX(4px); }
        .chapter-pages {
            background: #f1f5f9;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-size: 0.75rem;
            color: #64748b;
            min-width: 60px;
            text-align: center;
        }
        .chapter-title { font-weight: 500; flex: 1; }
        .chapter-tags { display: flex; gap: 0.25rem; flex-wrap: wrap; }
        .chapter-tag {
            background: #e0f2fe;
            color: #0369a1;
            padding: 0.125rem 0.5rem;
            border-radius: 4px;
            font-size: 0.65rem;
        }

        /* Search */
        .search-box {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 0.75rem 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
        }
        .search-box input {
            border: none;
            outline: none;
            flex: 1;
            font-size: 0.875rem;
        }
        .search-box svg { color: #94a3b8; }

        /* Timeline */
        .timeline {
            position: relative;
            padding-left: 2rem;
        }
        .timeline::before {
            content: '';
            position: absolute;
            left: 0.5rem;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #e2e8f0;
        }
        .timeline-item {
            position: relative;
            padding-bottom: 1.5rem;
        }
        .timeline-item::before {
            content: '';
            position: absolute;
            left: -1.75rem;
            top: 0.25rem;
            width: 10px;
            height: 10px;
            background: #3b82f6;
            border-radius: 50%;
        }
        .timeline-year { font-weight: 600; color: #3b82f6; font-size: 0.875rem; }
        .timeline-event { font-size: 0.875rem; color: #64748b; }

        /* Quote */
        .quote-card {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border-radius: 12px;
            padding: 1.5rem;
            border-left: 4px solid #f59e0b;
        }
        .quote-text { font-style: italic; font-size: 1rem; color: #92400e; margin-bottom: 0.5rem; }
        .quote-context { font-size: 0.75rem; color: #b45309; }

        /* Fullscreen modal */
        .modal {
            display: none;
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.95);
            z-index: 1000;
            padding: 1rem;
        }
        .modal.active { display: flex; flex-direction: column; }
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            color: white;
        }
        .modal-title { font-size: 1rem; font-weight: 500; }
        .modal-controls { display: flex; gap: 0.5rem; align-items: center; }
        .modal-btn {
            background: rgba(255,255,255,0.1);
            border: none;
            color: white;
            width: 40px; height: 40px;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .modal-btn:hover { background: rgba(255,255,255,0.2); }
        .modal-content { flex: 1; display: flex; align-items: center; justify-content: center; overflow: auto; }
        .modal-image { max-width: 100%; max-height: 100%; object-fit: contain; transition: transform 0.3s; }
        .modal-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255,255,255,0.1);
            border: none;
            color: white;
            width: 48px; height: 48px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .modal-nav:hover { background: rgba(255,255,255,0.2); }
        .modal-nav.prev { left: 1rem; }
        .modal-nav.next { right: 1rem; }
        .zoom-level { color: white; font-size: 0.875rem; min-width: 50px; text-align: center; }

        /* Stakeholder grid */
        .stakeholder-section { margin-bottom: 2rem; }
        .stakeholder-section h4 { font-size: 0.875rem; color: #64748b; margin-bottom: 0.75rem; text-transform: uppercase; letter-spacing: 0.05em; }
    </style>
    
</head>
<body>
    <header class="header">
        <div class="header-content">
            <a href="index.html" class="back-link">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M19 12H5M12 19l-7-7 7-7"/>
                </svg>
                Tilbake til dashboard
            </a>
            <h1>Konseptskisse September 2025</h1>
            <span class="header-badge">Gjeldende</span>
        </div>
    </header>

    <main class="main">
        <section class="hero">
            <h2>Hovfaret 13 - Hoff ved Sk√∏yen</h2>
            <p class="hero-subtitle">Natural State / R21 Arkitekter / Urbania Eiendom</p>
            <div class="hero-stats">
                <div class="hero-stat">
                    <div class="hero-stat-value">113</div>
                    <div class="hero-stat-label">Sider</div>
                </div>
                <div class="hero-stat">
                    <div class="hero-stat-value">4</div>
                    <div class="hero-stat-label">Hoveddeler</div>
                </div>
                <div class="hero-stat">
                    <div class="hero-stat-value">7</div>
                    <div class="hero-stat-label">Funksjoner</div>
                </div>
                <div class="hero-stat">
                    <div class="hero-stat-value">3</div>
                    <div class="hero-stat-label">Scenarioer</div>
                </div>
            </div>
        </section>

        <!-- Tabs -->
        <div class="tabs">
            <button class="tab-btn active" onclick="showTab('overview')">
                Oversikt
            </button>
            <button class="tab-btn" onclick="showTab('pages')">
                Alle sider <span class="count">113</span>
            </button>
            <button class="tab-btn" onclick="showTab('chapters')">
                Innhold <span class="count">16</span>
            </button>
            <button class="tab-btn" onclick="showTab('functions')">
                Funksjoner <span class="count">7</span>
            </button>
            <button class="tab-btn" onclick="showTab('scenarios')">
                Scenarioer <span class="count">3</span>
            </button>
            <button class="tab-btn" onclick="showTab('stakeholders')">
                Interessenter
            </button>
            <button class="tab-btn" onclick="showTab('progress')" style="background: #fef3c7; color: #92400e;">
                Progresjon <span class="count" style="background: #f59e0b; color: white;">NY</span>
            </button>
        </div>

        <!-- Overview Tab -->
        <div class="tab-content active" id="tab-overview">
            <div class="cards-grid" style="margin-bottom: 2rem;">
                <div class="info-card" style="grid-column: span 2;">
                    <h3><span class="icon">üè¢</span> Om bygget</h3>
                    <p><strong>Hovfaret 13</strong> er et 6 093 m¬≤ n√¶ringsbygg p√• Sk√∏yen, bygget i 1989. Bygget har s√∏yle-dekke-system i betong og st√•l, dimensjonert for 3-4 p√•byggetasjer.</p>
                    <ul>
                        <li>5 etasjer + 2 underetasjer</li>
                        <li>Takh√∏yde: 2.7-2.8 meter</li>
                        <li>√Öpne planl√∏sninger, flyttbare skillevegger</li>
                        <li><strong>Utfordring:</strong> Rivningsvedtak grunnet 10-meters regelen mot Hoffselva</li>
                    </ul>
                </div>
                <div class="quote-card">
                    <p class="quote-text">"Forlat skogen like ren eller renere enn n√•r du kom"</p>
                    <p class="quote-context">‚Äî Naturpositiv tiln√¶rming, side 49</p>
                </div>
            </div>

            <h3 style="margin-bottom: 1rem; font-size: 1.125rem;">Fire hoveddeler</h3>
            <div class="cards-grid" style="margin-bottom: 2rem;">
                <div class="info-card" style="border-left: 4px solid #3b82f6;">
                    <h3>1. Bakgrunn</h3>
                    <p>Side 1-27</p>
                    <ul>
                        <li>Prosjektgruppe</li>
                        <li>Sk√∏yen og n√¶romr√•det</li>
                        <li>Regulatorisk kontekst</li>
                        <li>Bygningsmasse</li>
                    </ul>
                </div>
                <div class="info-card" style="border-left: 4px solid #10b981;">
                    <h3>2. Stedsutvikling</h3>
                    <p>Side 28-53</p>
                    <ul>
                        <li>Fasadeendring</li>
                        <li>Sirkul√¶r √∏konomi</li>
                        <li>Naturpositive tiltak</li>
                        <li>Biodiversitet</li>
                    </ul>
                </div>
                <div class="info-card" style="border-left: 4px solid #f59e0b;">
                    <h3>3. Konseptskisse 1.0</h3>
                    <p>Side 54-91</p>
                    <ul>
                        <li>Funksjoner og muligheter</li>
                        <li>Etasjeplaner</li>
                        <li>Omsorg+ konsept</li>
                        <li>Strategisk involvering</li>
                    </ul>
                </div>
                <div class="info-card" style="border-left: 4px solid #8b5cf6;">
                    <h3>4. Utviklingsstrategi</h3>
                    <p>Side 92-113</p>
                    <ul>
                        <li>Energi & Klima analyse</li>
                        <li>Milj√∏risiko</li>
                        <li>Referanseprosjekter</li>
                    </ul>
                </div>
            </div>

            <h3 style="margin-bottom: 1rem; font-size: 1.125rem;">Tidslinje</h3>
            <div class="info-card">
                <div class="timeline" id="timeline-container"></div>
            </div>
        </div>

        <!-- Pages Tab -->
        <div class="tab-content" id="tab-pages">
            <div class="parts-nav" id="parts-nav"></div>
            <div class="pages-grid" id="pages-grid"></div>
        </div>

        <!-- Chapters Tab -->
        <div class="tab-content" id="tab-chapters">
            <div class="search-box">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/>
                </svg>
                <input type="text" placeholder="S√∏k i kapitler..." oninput="filterChapters(this.value)">
            </div>
            <div class="chapter-list" id="chapters-list"></div>
        </div>

        <!-- Functions Tab -->
        <div class="tab-content" id="tab-functions">
            <div class="cards-grid" id="functions-grid"></div>
        </div>

        <!-- Scenarios Tab -->
        <div class="tab-content" id="tab-scenarios">
            <p style="margin-bottom: 1.5rem; color: #64748b;">Sammenligning av tre utviklingsscenarioer basert p√• klimagassanalyse fra Vill Energi.</p>
            <div class="cards-grid" id="scenarios-grid"></div>

            <div class="info-card" style="margin-top: 2rem; background: #f0fdf4; border-color: #86efac;">
                <h3><span class="icon">üí°</span> Hovedfunn</h3>
                <p><strong>√Ö la betongen st√• er det st√∏rste enkeltgrepet for √• kutte CO‚ÇÇ</strong></p>
                <ul>
                    <li>Sparer 250 kg CO‚ÇÇ per m¬≤ sammenlignet med riving</li>
                    <li>Reduserer avfall med ca. 900 kg per m¬≤</li>
                    <li>Bevarer 90% av b√¶rekonstruksjonen</li>
                </ul>
            </div>
        </div>

        <!-- Stakeholders Tab -->
        <div class="tab-content" id="tab-stakeholders">
            <div class="stakeholder-section">
                <h4>Offentlige akt√∏rer</h4>
                <div class="cards-grid" id="stakeholders-public"></div>
            </div>
            <div class="stakeholder-section">
                <h4>Lokale akt√∏rer</h4>
                <div class="cards-grid" id="stakeholders-local"></div>
            </div>
            <div class="stakeholder-section">
                <h4>Potensielle drivere</h4>
                <div class="cards-grid" id="stakeholders-drivers"></div>
            </div>
        </div>

        <!-- Progress Tab (NEW) -->
        <div class="tab-content" id="tab-progress">
            <div class="info-card" style="background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); border: 2px solid #f59e0b; margin-bottom: 2rem;">
                <h3><span class="icon">üìä</span> Progresjon siden Konseptskisse 1.0</h3>
                <p>Denne fanen viser hva som har skjedd <strong>etter</strong> konseptskissen ble ferdigstilt (september 2025). Brukes som grunnlag for Konseptskisse 2.0.</p>
            </div>

            <h3 style="margin-bottom: 1rem; font-size: 1.125rem;">Leveranser etter konseptskissen</h3>
            <div class="cards-grid" style="margin-bottom: 2rem;" id="deliverables-grid"></div>

            <h3 style="margin-bottom: 1rem; font-size: 1.125rem;">Tidslinje sept-des 2025</h3>
            <div class="info-card" style="margin-bottom: 2rem;">
                <div class="timeline" id="progress-timeline"></div>
            </div>

            <h3 style="margin-bottom: 1rem; font-size: 1.125rem;">Omsorg+ - Utdypet</h3>
            <div class="cards-grid" style="margin-bottom: 2rem;">
                <div class="info-card" style="border-left: 4px solid #ec4899;">
                    <h3><span class="icon">üè†</span> Leilighetsfordeling</h3>
                    <ul>
                        <li><strong>1-roms:</strong> 23 enheter (47 m¬≤)</li>
                        <li><strong>2-roms:</strong> 44 enheter (57 m¬≤)</li>
                        <li><strong>3-roms:</strong> 6 enheter (72 m¬≤)</li>
                        <li><strong>Totalt:</strong> 73 enheter</li>
                    </ul>
                </div>
                <div class="info-card" style="border-left: 4px solid #ec4899;">
                    <h3><span class="icon">‚úÖ</span> Husbanken-krav</h3>
                    <p><strong>12 av 12 kategorier oppfylt</strong></p>
                    <ul>
                        <li>Livsl√∏psstandard</li>
                        <li>Universell utforming</li>
                        <li>Fellesarealer min. 150m¬≤</li>
                        <li>Vaktmestertjeneste</li>
                    </ul>
                </div>
                <div class="info-card" style="border-left: 4px solid #ec4899;">
                    <h3><span class="icon">üí∞</span> √òkonomi</h3>
                    <ul>
                        <li>Kommunens referansepris: ~10 mill/enhet</li>
                        <li>Husbanken-st√∏tte mulig</li>
                        <li>Bydel Ullern: Behov for 160 enheter</li>
                        <li>H13 dekker 46% av behovet</li>
                    </ul>
                </div>
            </div>

            <h3 style="margin-bottom: 1rem; font-size: 1.125rem;">M√∏teaktivitet</h3>
            <div class="cards-grid" style="margin-bottom: 2rem;">
                <div class="info-card">
                    <h3><span class="icon">üìÖ</span> Totalt dokumentert</h3>
                    <p style="font-size: 2rem; font-weight: 700; color: #3b82f6;">65+</p>
                    <p>m√∏ter siden prosjektstart</p>
                </div>
                <div class="info-card">
                    <h3><span class="icon">üèõÔ∏è</span> Bydel Ullern</h3>
                    <ul>
                        <li>05.05.2025: Bente Otto</li>
                        <li>22.05.2025: Bydelsledelse (Hopp, Strandskog)</li>
                    </ul>
                </div>
                <div class="info-card">
                    <h3><span class="icon">üë•</span> Leietakere</h3>
                    <ul>
                        <li>10.01.2025: Leietakerm√∏te</li>
                        <li>Transformasjonsplaner presentert</li>
                        <li>Dialog om overgang etablert</li>
                    </ul>
                </div>
            </div>

            <h3 style="margin-bottom: 1rem; font-size: 1.125rem;">Status: Neste steg</h3>
            <div class="cards-grid">
                <div class="scenario-card preferred">
                    <span class="scenario-badge preferred">P√•g√•r</span>
                    <div class="scenario-title">Rammes√∏knad</div>
                    <p style="font-size: 0.875rem; color: #64748b;">Koordineringsm√∏te gjennomf√∏rt 04.09.2025. S√∏knad under utarbeidelse.</p>
                </div>
                <div class="scenario-card recommended">
                    <span class="scenario-badge recommended">Planlagt</span>
                    <div class="scenario-title">Konseptskisse 2.0</div>
                    <p style="font-size: 0.875rem; color: #64748b;">Neste iterasjon basert p√• leveranser og tilbakemeldinger.</p>
                </div>
                <div class="scenario-card">
                    <div class="scenario-title">Midlertidig bruksendring</div>
                    <p style="font-size: 0.875rem; color: #64748b;">1. etasje - servering/kultur. Aktivere bygget mens utvikling p√•g√•r.</p>
                </div>
            </div>
        </div>
    </main>

    <!-- Fullscreen modal -->
    <div class="modal" id="modal">
        <div class="modal-header">
            <span class="modal-title" id="modal-title">Side 1 av 113</span>
            <div class="modal-controls">
                <button class="modal-btn" onclick="changeZoom(-1)" title="Zoom ut (-)">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35M8 11h6"/>
                    </svg>
                </button>
                <span class="zoom-level" id="zoom-level">100%</span>
                <button class="modal-btn" onclick="changeZoom(1)" title="Zoom inn (+)">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35M11 8v6M8 11h6"/>
                    </svg>
                </button>
                <button class="modal-btn" onclick="closeModal()" title="Lukk (ESC)">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 6L6 18M6 6l12 12"/>
                    </svg>
                </button>
            </div>
        </div>
        <div class="modal-content">
            <img id="modal-image" class="modal-image" src="" alt="">
        </div>
        <button class="modal-nav prev" onclick="navigateModal(-1)">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M15 18l-6-6 6-6"/>
            </svg>
        </button>
        <button class="modal-nav next" onclick="navigateModal(1)">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M9 18l6-6-6-6"/>
            </svg>
        </button>
    </div>

    <script>
        // Data
        const data = {
            imageFolder: "assets/konseptskisser/v1-sept-2025",
            totalPages: 113,
            parts: [
                { id: "part1", num: 1, title: "Bakgrunn", start: 1, end: 27, color: "#3b82f6" },
                { id: "part2", num: 2, title: "Stedsutvikling", start: 28, end: 53, color: "#10b981" },
                { id: "part3", num: 3, title: "Konseptskisse 1.0", start: 54, end: 91, color: "#f59e0b" },
                { id: "part4", num: 4, title: "Utviklingsstrategi", start: 92, end: 113, color: "#8b5cf6" }
            ],
            chapters: [
                { title: "Forside", start: 1, end: 1, part: 1 },
                { title: "Innholdsfortegnelse", start: 2, end: 2, part: 1 },
                { title: "Innsikt forprosjekt", start: 4, end: 6, part: 1, tags: ["Prosjektgruppe", "Metode"] },
                { title: "Sk√∏yen og n√¶romr√•det", start: 7, end: 14, part: 1, tags: ["Bydel Ullern", "Tilbud"] },
                { title: "Regulatorisk kontekst", start: 15, end: 20, part: 1, tags: ["Omr√•deplan", "KPA"] },
                { title: "Bygningsmasse", start: 21, end: 24, part: 1, tags: ["Konstruksjon", "1989"] },
                { title: "Scenarioer", start: 25, end: 27, part: 1, tags: ["3 alternativer"] },
                { title: "Fasadeendring", start: 28, end: 35, part: 2, tags: ["Solceller", "Gr√∏nne fasader"] },
                { title: "Sirkul√¶r √∏konomi", start: 36, end: 48, part: 2, tags: ["Verdikjeder", "Ombruk"] },
                { title: "Naturpositive tiltak", start: 49, end: 53, part: 2, tags: ["Biodiversitet", "Hoffsdammen"] },
                { title: "Stedsidentitet", start: 55, end: 58, part: 3, tags: ["Aktiviteter", "M√∏teplasser"] },
                { title: "Muligheter og funksjoner", start: 59, end: 70, part: 3, tags: ["7 funksjoner"] },
                { title: "Etasjeplaner", start: 71, end: 82, part: 3, tags: ["U2-5. etg", "P√•bygg"] },
                { title: "Strategisk involvering", start: 83, end: 91, part: 3, tags: ["Omsorg+", "Drivere"] },
                { title: "Energi & Klima", start: 92, end: 93, part: 4, tags: ["CO‚ÇÇ", "Analyse"] },
                { title: "Referanser", start: 94, end: 113, part: 4, tags: ["Natural State", "Fuglen"] }
            ],
            functions: [
                { name: "M√∏tested", icon: "‚òï", desc: "Kaffebar, spiseri, m√∏teplass for nabolaget", features: ["Kaffebar & Bar", "Spiseri/Kantine", "Uteservering"], pages: [60] },
                { name: "Arrangementer", icon: "üé≠", desc: "Nabolagshus, kultur, utleie", features: ["Bryllup, konfirmasjon", "Konserter, teater", "Workshops"], pages: [61] },
                { name: "Kontor", icon: "üíº", desc: "Fleksible kontorer og fellesskap", features: ["Studioer", "Community Manager", "Oppstartbedrifter"], pages: [62] },
                { name: "Gr√∏nne uterom", icon: "üåø", desc: "Naturrestaurering, biodiversitet", features: ["Gr√∏nne vegger", "Froskedam", "Eng med lokale arter"], pages: [63, 49, 50, 51, 52] },
                { name: "Servering", icon: "üçΩÔ∏è", desc: "B√¶rekraftig mat og uteservering", features: ["Lokale r√•varer", "B√¶rekraftig mat"], pages: [64] },
                { name: "Boligtypologier", icon: "üè†", desc: "Mangfoldige boformer", features: ["Fleksible boliger", "Generasjonsboliger"], pages: [65] },
                { name: "Omsorg+", icon: "‚ù§Ô∏è", desc: "73 omsorgsboliger for eldre", features: ["Fellesarealer", "Aktivitetstilbud", "Mellomtrinn hjem/sykehjem"], pages: [66, 88] }
            ],
            scenarios: [
                { num: 1, title: "Riving og nybygg", subtitle: "Transformasjon av kontor", emissions: 312, waste: "800-1200", preserved: "0%", reuse: "Lav", util: 0.25, recommended: false },
                { num: 2, title: "Rehabilitering", subtitle: "Flerbruk innenfor form", emissions: 62, waste: "100-200", preserved: "‚âà90%", reuse: "H√∏y", util: 0.65, recommended: true },
                { num: 3, title: "Rehab + p√•bygg", subtitle: "Full realisering i h√∏yden", emissions: 123, waste: "170-250", preserved: "‚âà90%", reuse: "Middels", util: 0.50, recommended: true, preferred: true }
            ],
            stakeholders: {
                public: [
                    { name: "Bydel Ullern", type: "Kommune", contacts: ["Bente Nodland Otto", "Ida Saxeb√∏l"], interest: "Behov for 160 omsorgsboliger" },
                    { name: "Bydelsutvalget", type: "Politisk", contacts: ["Ingrid Hopp", "Tore Strandskog"], interest: "Omsorgsboliger h√∏yt p√• agendaen" }
                ],
                local: [
                    { name: "R√∏de Hytta (Kirkens Bymisjon)", type: "Frivillig", interest: "√ònsker √• bygge Frivillighetens Hus" },
                    { name: "Nabolagsfabrikken", type: "Aktivist", interest: "Tett dialog om Hovfaret 13" },
                    { name: "Aktivitetssenteret", type: "Offentlig", interest: "Plassmangel, behov for flere lokaler" }
                ],
                drivers: ["P√•driv", "Food Studios (Cecilie Dawes)", "Lokale oppstartbedrifter", "Kreative n√¶ringer"]
            },
            timeline: [
                { year: 1938, event: "Veien Hovfaret navngis etter Hoff g√•rd" },
                { year: 1964, event: "Bakeriet G. M√∏llhausen √•pner fabrikk" },
                { year: 1989, event: "Hovfaret 13 bygges med kapasitet for p√•bygg" },
                { year: 2004, event: "Gamle bakeriet blir M√∏llhausen Torg" },
                { year: 2023, event: "Rivningsvedtak i omr√•deplan" },
                { year: 2024, event: "Prosjektoppstart med Natural State og R21" },
                { year: "Sep 2025", event: "Konseptskisse 1.0 ferdigstilt" }
            ],
            // Progress data - after konseptskisse
            deliverables: [
                {
                    date: "11.04.2025",
                    title: "Energirapport",
                    author: "Vill Energi AS",
                    icon: "‚ö°",
                    highlights: ["50% energireduksjon mulig", "Enova-st√∏tte bekreftet", "TEK17-niv√• oppn√•elig"],
                    link: "sustainability.html"
                },
                {
                    date: "22.04.2025",
                    title: "Klimagassberegninger v2",
                    author: "Vill Energi AS",
                    icon: "üå±",
                    highlights: ["48% lavere CO‚ÇÇ enn riving", "456 vs 631 kg CO‚ÇÇ/m¬≤", "2549 tonn CO‚ÇÇ spart"],
                    link: "sustainability.html"
                },
                {
                    date: "04.07.2025",
                    title: "B√¶rekraftsrapport",
                    author: "Natural State",
                    icon: "üìä",
                    highlights: ["83 sider ESRS-rapport", "Triple Bottom Line", "Komplett case for transformasjon"],
                    link: "sustainability-report-full.html"
                },
                {
                    date: "09.10.2025",
                    title: "R21 Endelig leveranse",
                    author: "R21 Arkitekter",
                    icon: "üèóÔ∏è",
                    highlights: ["Renders og visualiseringer", "Detaljerte plantegninger", "Fasadeopsjoner"],
                    link: null
                }
            ],
            progressTimeline: [
                { date: "11.04.2025", event: "Energirapport levert", type: "deliverable" },
                { date: "22.04.2025", event: "Klimagassberegninger v2 ferdig", type: "deliverable" },
                { date: "05.05.2025", event: "M√∏te med Bente Otto (Bydel Ullern)", type: "meeting" },
                { date: "22.05.2025", event: "M√∏te med bydelsledelse (Hopp, Strandskog)", type: "meeting" },
                { date: "04.07.2025", event: "B√¶rekraftsrapport levert", type: "deliverable" },
                { date: "04.09.2025", event: "Konseptskisse 1.0 ferdigstilt", type: "milestone" },
                { date: "04.09.2025", event: "Rammes√∏knad-koordinering", type: "meeting" },
                { date: "09.10.2025", event: "R21 endelig leveranse (renders)", type: "deliverable" },
                { date: "Des 2025", event: "Prosjektdatabase konsolidert", type: "milestone" }
            ]
        };

        // State
        let currentPage = 0;
        let zoomLevel = 1;
        const zoomLevels = [0.5, 0.75, 1, 1.25, 1.5, 2, 3];
        let activeFilter = null;

        // Tab switching
        function showTab(tabId) {
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            event.target.classList.add('active');
            document.getElementById('tab-' + tabId).classList.add('active');
        }

        // Render pages grid
        function renderPages(filterPart = null) {
            const grid = document.getElementById('pages-grid');
            let html = '';
            let currentPart = null;

            for (let i = 1; i <= data.totalPages; i++) {
                const part = data.parts.find(p => i >= p.start && i <= p.end);

                if (filterPart && part.id !== filterPart) continue;

                if (!filterPart && part && part.id !== currentPart) {
                    currentPart = part.id;
                    html += `<div class="part-divider" style="background: ${part.color};">
                        ${part.num}. ${part.title} (side ${part.start}-${part.end})
                    </div>`;
                }

                const pageNum = String(i).padStart(3, '0');
                html += `
                    <div class="page-card" onclick="openModal(${i - 1})">
                        <img src="${data.imageFolder}/page_${pageNum}.jpg" alt="Side ${i}" loading="lazy"
                             onerror="this.style.display='none'">
                        <div class="page-num">Side ${i}</div>
                    </div>
                `;
            }
            grid.innerHTML = html;
        }

        // Render parts navigation
        function renderPartsNav() {
            const nav = document.getElementById('parts-nav');
            nav.innerHTML = `
                <button class="part-btn ${activeFilter === null ? 'active' : ''}"
                        style="border-color: #64748b; ${activeFilter === null ? 'background: #64748b; color: white;' : 'color: #64748b;'}"
                        onclick="filterPart(null)">Alle</button>
                ${data.parts.map(p => `
                    <button class="part-btn ${activeFilter === p.id ? 'active' : ''}"
                            style="border-color: ${p.color}; ${activeFilter === p.id ? 'background: ' + p.color + '; color: white;' : 'color: ' + p.color}"
                            onclick="filterPart('${p.id}')">${p.num}. ${p.title}</button>
                `).join('')}
            `;
        }

        function filterPart(partId) {
            activeFilter = partId;
            renderPartsNav();
            renderPages(partId);
        }

        // Render chapters
        function renderChapters() {
            const list = document.getElementById('chapters-list');
            list.innerHTML = data.chapters.map(ch => {
                const part = data.parts.find(p => p.num === ch.part);
                return `
                    <div class="chapter-item" onclick="openModal(${ch.start - 1})"
                         style="border-left: 3px solid ${part.color};">
                        <span class="chapter-pages">s. ${ch.start}${ch.end !== ch.start ? '-' + ch.end : ''}</span>
                        <span class="chapter-title">${ch.title}</span>
                        <div class="chapter-tags">
                            ${(ch.tags || []).map(t => `<span class="chapter-tag">${t}</span>`).join('')}
                        </div>
                    </div>
                `;
            }).join('');
        }

        function filterChapters(query) {
            const items = document.querySelectorAll('.chapter-item');
            const q = query.toLowerCase();
            items.forEach(item => {
                const text = item.textContent.toLowerCase();
                item.style.display = text.includes(q) ? 'flex' : 'none';
            });
        }

        // Render functions
        function renderFunctions() {
            const grid = document.getElementById('functions-grid');
            grid.innerHTML = data.functions.map(f => `
                <div class="info-card" onclick="openModal(${f.pages[0] - 1})" style="cursor: pointer;">
                    <h3><span class="icon">${f.icon}</span> ${f.name}</h3>
                    <p>${f.desc}</p>
                    <ul>${f.features.map(feat => `<li>${feat}</li>`).join('')}</ul>
                    <p style="margin-top: 0.5rem; font-size: 0.75rem; color: #94a3b8;">
                        Se side ${f.pages.join(', ')}
                    </p>
                </div>
            `).join('');
        }

        // Render scenarios
        function renderScenarios() {
            const grid = document.getElementById('scenarios-grid');
            grid.innerHTML = data.scenarios.map(s => `
                <div class="scenario-card ${s.preferred ? 'preferred' : s.recommended ? 'recommended' : ''}">
                    ${s.preferred ? '<span class="scenario-badge preferred">Anbefalt</span>' :
                      s.recommended ? '<span class="scenario-badge recommended">B√¶rekraftig</span>' : ''}
                    <div class="scenario-num">${s.num}</div>
                    <div class="scenario-title">${s.title}</div>
                    <div class="scenario-subtitle">${s.subtitle}</div>
                    <div class="scenario-metrics">
                        <div class="metric">
                            <div class="metric-label">CO‚ÇÇ kg/m¬≤</div>
                            <div class="metric-value">${s.emissions}</div>
                        </div>
                        <div class="metric">
                            <div class="metric-label">Avfall kg/m¬≤</div>
                            <div class="metric-value">${s.waste}</div>
                        </div>
                        <div class="metric">
                            <div class="metric-label">Bevart</div>
                            <div class="metric-value">${s.preserved}</div>
                        </div>
                        <div class="metric">
                            <div class="metric-label">Ombruk</div>
                            <div class="metric-value">${s.reuse}</div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Render stakeholders
        function renderStakeholders() {
            document.getElementById('stakeholders-public').innerHTML = data.stakeholders.public.map(s => `
                <div class="info-card">
                    <h3>${s.name}</h3>
                    <p><strong>${s.type}</strong></p>
                    ${s.contacts ? `<p>Kontakter: ${s.contacts.join(', ')}</p>` : ''}
                    <p style="color: #10b981;">${s.interest}</p>
                </div>
            `).join('');

            document.getElementById('stakeholders-local').innerHTML = data.stakeholders.local.map(s => `
                <div class="info-card">
                    <h3>${s.name}</h3>
                    <p><strong>${s.type}</strong></p>
                    <p style="color: #f59e0b;">${s.interest}</p>
                </div>
            `).join('');

            document.getElementById('stakeholders-drivers').innerHTML = data.stakeholders.drivers.map(d => `
                <div class="info-card" style="padding: 1rem; text-align: center;">
                    <p style="font-weight: 500;">${d}</p>
                </div>
            `).join('');
        }

        // Render timeline
        function renderTimeline() {
            const container = document.getElementById('timeline-container');
            container.innerHTML = data.timeline.map(t => `
                <div class="timeline-item">
                    <div class="timeline-year">${t.year}</div>
                    <div class="timeline-event">${t.event}</div>
                </div>
            `).join('');
        }

        // Modal functions
        function openModal(pageIndex) {
            currentPage = pageIndex;
            zoomLevel = 1;
            updateModalImage();
            document.getElementById('modal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            document.getElementById('modal').classList.remove('active');
            document.body.style.overflow = '';
        }

        function updateModalImage() {
            const pageNum = String(currentPage + 1).padStart(3, '0');
            document.getElementById('modal-image').src = `${data.imageFolder}/page_${pageNum}.jpg`;
            document.getElementById('modal-image').style.transform = `scale(${zoomLevel})`;
            document.getElementById('modal-title').textContent = `Side ${currentPage + 1} av ${data.totalPages}`;
            document.getElementById('zoom-level').textContent = `${Math.round(zoomLevel * 100)}%`;
        }

        function navigateModal(dir) {
            currentPage += dir;
            if (currentPage < 0) currentPage = data.totalPages - 1;
            if (currentPage >= data.totalPages) currentPage = 0;
            updateModalImage();
        }

        function changeZoom(dir) {
            const idx = zoomLevels.indexOf(zoomLevel);
            const newIdx = Math.max(0, Math.min(idx + dir, zoomLevels.length - 1));
            zoomLevel = zoomLevels[newIdx];
            updateModalImage();
        }

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (!document.getElementById('modal').classList.contains('active')) return;
            switch(e.key) {
                case 'Escape': closeModal(); break;
                case 'ArrowLeft': navigateModal(-1); break;
                case 'ArrowRight': navigateModal(1); break;
                case '+': case '=': changeZoom(1); break;
                case '-': changeZoom(-1); break;
                case '0': zoomLevel = 1; updateModalImage(); break;
            }
        });

        // Click outside modal to close
        document.getElementById('modal').addEventListener('click', (e) => {
            if (e.target.id === 'modal' || e.target.classList.contains('modal-content')) {
                closeModal();
            }
        });

        // Render deliverables (Progress tab)
        function renderDeliverables() {
            const grid = document.getElementById('deliverables-grid');
            if (!grid) return;
            grid.innerHTML = data.deliverables.map(d => `
                <div class="info-card" ${d.link ? `onclick="window.location='${d.link}'" style="cursor: pointer;"` : ''}>
                    <h3><span class="icon">${d.icon}</span> ${d.title}</h3>
                    <p><strong>${d.date}</strong> ¬∑ ${d.author}</p>
                    <ul>${d.highlights.map(h => `<li>${h}</li>`).join('')}</ul>
                    ${d.link ? '<p style="margin-top: 0.5rem; font-size: 0.75rem; color: #3b82f6;">Klikk for √• se ‚Üí</p>' : ''}
                </div>
            `).join('');
        }

        // Render progress timeline
        function renderProgressTimeline() {
            const container = document.getElementById('progress-timeline');
            if (!container) return;
            const typeColors = {
                deliverable: '#10b981',
                meeting: '#3b82f6',
                milestone: '#f59e0b'
            };
            const typeLabels = {
                deliverable: 'Leveranse',
                meeting: 'M√∏te',
                milestone: 'Milep√¶l'
            };
            container.innerHTML = data.progressTimeline.map(t => `
                <div class="timeline-item">
                    <div class="timeline-year" style="color: ${typeColors[t.type]};">${t.date}</div>
                    <div class="timeline-event">
                        ${t.event}
                        <span style="background: ${typeColors[t.type]}; color: white; padding: 0.125rem 0.5rem; border-radius: 4px; font-size: 0.65rem; margin-left: 0.5rem;">${typeLabels[t.type]}</span>
                    </div>
                </div>
            `).join('');
        }

        // Initialize
        renderPartsNav();
        renderPages();
        renderChapters();
        renderFunctions();
        renderScenarios();
        renderStakeholders();
        renderTimeline();
        renderDeliverables();
        renderProgressTimeline();
    </script>
</body>
</html>
